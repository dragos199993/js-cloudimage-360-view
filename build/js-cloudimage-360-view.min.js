/*!
 * 
 *  js-cloudimage-360-view v2.6.0
 *  https://github.com/scaleflex/js-cloudimage-360-view
 * 
 *  Copyright (c) 2019 scaleflex
 *  Released under the MIT license
 * 
 *  Date: 2021-12-20T10:22:38.290Z
 * 
 */!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=44)}([function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i(49))},function(t,e){var i=Function.prototype,n=i.bind,o=i.call,s=n&&n.bind(o);t.exports=n?function(t){return t&&s(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n=i(1),o=i(33),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(o(t),e)}},function(t,e,i){var n=i(3);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){var n=i(2);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},function(t,e,i){var n=i(0),o=i(32),s=i(4),r=i(34),a=i(29),c=i(28),h=o("wks"),l=n.Symbol,u=l&&l.for,d=c?l:l&&l.withoutSetter||r;t.exports=function(t){if(!s(h,t)||!a&&"string"!=typeof h[t]){var e="Symbol."+t;a&&s(l,t)?h[t]=l[t]:h[t]=c&&u?u(e):d(e)}return h[t]}},function(t,e,i){var n=i(0),o=i(2),s=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t]):n[t]&&n[t][e]}},function(t,e,i){var n=i(24),o=i(25);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(0),o=i(5),s=i(35),r=i(11),a=i(26),c=n.TypeError,h=Object.defineProperty;e.f=o?h:function(t,e,i){if(r(t),e=a(e),r(i),s)try{return h(t,e,i)}catch(t){}if("get"in i||"set"in i)throw c("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(0),o=i(6),s=n.String,r=n.TypeError;t.exports=function(t){if(o(t))return t;throw r(s(t)+" is not an object")}},function(t,e,i){var n=i(0),o=i(22).f,s=i(17),r=i(58),a=i(16),c=i(62),h=i(68);t.exports=function(t,e){var i,l,u,d,f,v=t.target,m=t.global,p=t.stat;if(i=m?n:p?n[v]||a(v,{}):(n[v]||{}).prototype)for(l in e){if(d=e[l],u=t.noTargetGet?(f=o(i,l))&&f.value:i[l],!h(m?l:v+(p?".":"#")+l,t.forced)&&void 0!==u){if(typeof d==typeof u)continue;c(d,u)}(t.sham||u&&u.sham)&&s(d,"sham",!0),r(i,l,d,t)}}},function(t,e){var i=Function.prototype.call;t.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(t,e,i){var n=i(1),o=n({}.toString),s=n("".slice);t.exports=function(t){return s(o(t),8,-1)}},function(t,e,i){var n=i(0),o=i(16),s=n["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=s},function(t,e,i){var n=i(0),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},function(t,e,i){var n=i(5),o=i(10),s=i(23);t.exports=n?function(t,e,i){return o.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(1),o=i(2),s=i(15),r=n(Function.toString);o(s.inspectSource)||(s.inspectSource=function(t){return r(t)}),t.exports=s.inspectSource},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){var n=i(0),o=i(1);t.exports=function(t,e){return o(n[t].prototype[e])}},function(t,e,i){var n=i(5),o=i(13),s=i(50),r=i(23),a=i(9),c=i(26),h=i(4),l=i(35),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=a(t),e=c(e),l)try{return u(t,e)}catch(t){}if(h(t,e))return r(!o(s.f,t,e),t[e])}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(0),o=i(1),s=i(3),r=i(14),a=n.Object,c=o("".split);t.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?c(t,""):a(t)}:a},function(t,e,i){var n=i(0).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},function(t,e,i){var n=i(51),o=i(27);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},function(t,e,i){var n=i(0),o=i(8),s=i(2),r=i(52),a=i(28),c=n.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return s(e)&&r(e.prototype,c(t))}},function(t,e,i){var n=i(29);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,i){var n=i(30),o=i(3);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(t,e,i){var n,o,s=i(0),r=i(53),a=s.process,c=s.Deno,h=a&&a.versions||c&&c.version,l=h&&h.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&r&&(!(n=r.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=r.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},function(t,e,i){var n=i(0),o=i(2),s=i(55),r=n.TypeError;t.exports=function(t){if(o(t))return t;throw r(s(t)+" is not a function")}},function(t,e,i){var n=i(57),o=i(15);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.0",mode:n?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(0),o=i(25),s=n.Object;t.exports=function(t){return s(o(t))}},function(t,e,i){var n=i(1),o=0,s=Math.random(),r=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+r(++o+s,36)}},function(t,e,i){var n=i(5),o=i(3),s=i(36);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(0),o=i(6),s=n.document,r=o(s)&&o(s.createElement);t.exports=function(t){return r?s.createElement(t):{}}},function(t,e,i){var n=i(32),o=i(34),s=n("keys");t.exports=function(t){return s[t]||(s[t]=o(t))}},function(t,e,i){var n=i(1),o=i(4),s=i(9),r=i(39).indexOf,a=i(19),c=n([].push);t.exports=function(t,e){var i,n=s(t),h=0,l=[];for(i in n)!o(a,i)&&o(n,i)&&c(l,i);for(;e.length>h;)o(n,i=e[h++])&&(~r(l,i)||c(l,i));return l}},function(t,e,i){var n=i(9),o=i(65),s=i(41),r=function(t){return function(e,i,r){var a,c=n(e),h=s(c),l=o(r,h);if(t&&i!=i){for(;h>l;)if((a=c[l++])!=a)return!0}else for(;h>l;l++)if((t||l in c)&&c[l]===i)return t||l||0;return!t&&-1}};t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?n:i)(e)}},function(t,e,i){var n=i(66);t.exports=function(t){return n(t.length)}},function(t,e,i){var n=i(70),o=i(1),s=i(24),r=i(33),a=i(41),c=i(71),h=o([].push),l=function(t){var e=1==t,i=2==t,o=3==t,l=4==t,u=6==t,d=7==t,f=5==t||u;return function(v,m,p,g){for(var y,I,w=r(v),b=s(w),x=n(m,p),S=a(b),O=0,E=g||c,C=e?E(v,S):i||d?E(v,0):void 0;S>O;O++)if((f||O in b)&&(I=x(y=b[O],O,w),t))if(e)C[O]=I;else if(I)switch(t){case 3:return!0;case 5:return y;case 6:return O;case 2:h(C,y)}else switch(t){case 4:return!1;case 7:h(C,y)}return u?-1:o||l?l:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TO_START_POINTER_ZOOM={SCROLL_TO_START:"scroll",CLICK_TO_START:"click"},e.MOUSE_LEAVE_ACTIONS={RESET_ZOOM:"resetZoom"},e.ORIENTATIONS={X:"x-axis",Y:"y-axis",CENTER:"center"},e.AUTOPLAY_BEHAVIOR={SPIN_X:"spin-x",SPIN_Y:"spin-y",SPIN_XY:"spin-xy",SPIN_YX:"spin-yx"}},function(t,e,i){"use strict";i(45),i(78),i(83);var n,o=i(92),s=(n=o)&&n.__esModule?n:{default:n};function r(){var t=[],e=document.querySelectorAll(".cloudimage-360:not(.initialized)");[].slice.call(e).forEach((function(e){t.push(new s.default(e))})),window.CI360._viewers=t}function a(){return!(window.CI360._viewers&&window.CI360._viewers.length>0)}window.CI360=window.CI360||{},window.CI360.init=r,window.CI360.destroy=function(){a()||(window.CI360._viewers.forEach((function(t){t.destroy()})),window.CI360._viewers=[])},window.CI360.getActiveIndexByID=function(t){if(!a()){var e=window.CI360._viewers.filter((function(e){return e.id===t}))[0];return e&&e.activeImage-1}},window.test="test",window.CI360.notInitOnLoad||r()},function(t,e,i){var n=i(46);t.exports=n},function(t,e,i){var n=i(47);t.exports=n},function(t,e,i){i(48);var n=i(21);t.exports=n("Array","forEach")},function(t,e,i){"use strict";var n=i(12),o=i(69);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!n.call({1:2},1);e.f=s?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},function(t,e,i){var n=i(0),o=i(13),s=i(6),r=i(27),a=i(54),c=i(56),h=i(7),l=n.TypeError,u=h("toPrimitive");t.exports=function(t,e){if(!s(t)||r(t))return t;var i,n=a(t,u);if(n){if(void 0===e&&(e="default"),i=o(n,t,e),!s(i)||r(i))return i;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},function(t,e,i){var n=i(1);t.exports=n({}.isPrototypeOf)},function(t,e,i){var n=i(8);t.exports=n("navigator","userAgent")||""},function(t,e,i){var n=i(31);t.exports=function(t,e){var i=t[e];return null==i?void 0:n(i)}},function(t,e,i){var n=i(0).String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},function(t,e,i){var n=i(0),o=i(13),s=i(2),r=i(6),a=n.TypeError;t.exports=function(t,e){var i,n;if("string"===e&&s(i=t.toString)&&!r(n=o(i,t)))return n;if(s(i=t.valueOf)&&!r(n=o(i,t)))return n;if("string"!==e&&s(i=t.toString)&&!r(n=o(i,t)))return n;throw a("Can't convert object to primitive value")}},function(t,e){t.exports=!1},function(t,e,i){var n=i(0),o=i(2),s=i(4),r=i(17),a=i(16),c=i(18),h=i(59),l=i(61).CONFIGURABLE,u=h.get,d=h.enforce,f=String(String).split("String");(t.exports=function(t,e,i,c){var h,u=!!c&&!!c.unsafe,v=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,p=c&&void 0!==c.name?c.name:e;o(i)&&("Symbol("===String(p).slice(0,7)&&(p="["+String(p).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(i,"name")||l&&i.name!==p)&&r(i,"name",p),(h=d(i)).source||(h.source=f.join("string"==typeof p?p:""))),t!==n?(u?!m&&t[e]&&(v=!0):delete t[e],v?t[e]=i:r(t,e,i)):v?t[e]=i:a(e,i)})(Function.prototype,"toString",(function(){return o(this)&&u(this).source||c(this)}))},function(t,e,i){var n,o,s,r=i(60),a=i(0),c=i(1),h=i(6),l=i(17),u=i(4),d=i(15),f=i(37),v=i(19),m=a.TypeError,p=a.WeakMap;if(r||d.state){var g=d.state||(d.state=new p),y=c(g.get),I=c(g.has),w=c(g.set);n=function(t,e){if(I(g,t))throw new m("Object already initialized");return e.facade=t,w(g,t,e),e},o=function(t){return y(g,t)||{}},s=function(t){return I(g,t)}}else{var b=f("state");v[b]=!0,n=function(t,e){if(u(t,b))throw new m("Object already initialized");return e.facade=t,l(t,b,e),e},o=function(t){return u(t,b)?t[b]:{}},s=function(t){return u(t,b)}}t.exports={set:n,get:o,has:s,enforce:function(t){return s(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!h(e)||(i=o(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){var n=i(0),o=i(2),s=i(18),r=n.WeakMap;t.exports=o(r)&&/native code/.test(s(r))},function(t,e,i){var n=i(5),o=i(4),s=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,a=o(s,"name"),c=a&&"something"===function(){}.name,h=a&&(!n||n&&r(s,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:h}},function(t,e,i){var n=i(4),o=i(63),s=i(22),r=i(10);t.exports=function(t,e){for(var i=o(e),a=r.f,c=s.f,h=0;h<i.length;h++){var l=i[h];n(t,l)||a(t,l,c(e,l))}}},function(t,e,i){var n=i(8),o=i(1),s=i(64),r=i(67),a=i(11),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(a(t)),i=r.f;return i?c(e,i(t)):e}},function(t,e,i){var n=i(38),o=i(20).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(40),o=Math.max,s=Math.min;t.exports=function(t,e){var i=n(t);return i<0?o(i+e,0):s(i,e)}},function(t,e,i){var n=i(40),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(3),o=i(2),s=/#|\.prototype\./,r=function(t,e){var i=c[a(t)];return i==l||i!=h&&(o(e)?n(e):!!e)},a=r.normalize=function(t){return String(t).replace(s,".").toLowerCase()},c=r.data={},h=r.NATIVE="N",l=r.POLYFILL="P";t.exports=r},function(t,e,i){"use strict";var n=i(42).forEach,o=i(77)("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,i){var n=i(1),o=i(31),s=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:s?s(t,e):function(){return t.apply(e,arguments)}}},function(t,e,i){var n=i(72);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},function(t,e,i){var n=i(0),o=i(73),s=i(74),r=i(6),a=i(7)("species"),c=n.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(s(e)&&(e===c||o(e.prototype))||r(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?c:e}},function(t,e,i){var n=i(14);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(1),o=i(3),s=i(2),r=i(75),a=i(8),c=i(18),h=function(){},l=[],u=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=n(d.exec),v=!d.exec(h),m=function(t){if(!s(t))return!1;try{return u(h,l,t),!0}catch(t){return!1}};t.exports=!u||o((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?function(t){if(!s(t))return!1;switch(r(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return v||!!f(d,c(t))}:m},function(t,e,i){var n=i(0),o=i(76),s=i(2),r=i(14),a=i(7)("toStringTag"),c=n.Object,h="Arguments"==r(function(){return arguments}());t.exports=o?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=c(t),a))?i:h?r(e):"Object"==(n=r(e))&&s(e.callee)?"Arguments":n}},function(t,e,i){var n={};n[i(7)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,i){"use strict";var n=i(3);t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},function(t,e,i){var n=i(79);t.exports=n},function(t,e,i){var n=i(80);t.exports=n},function(t,e,i){i(81);var n=i(21);t.exports=n("Array","filter")},function(t,e,i){"use strict";var n=i(12),o=i(42).filter;n({target:"Array",proto:!0,forced:!i(82)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(3),o=i(7),s=i(30),r=o("species");t.exports=function(t){return s>=51||!n((function(){var e=[];return(e.constructor={})[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,i){var n=i(84);t.exports=n},function(t,e,i){var n=i(85);t.exports=n},function(t,e,i){i(86);var n=i(21);t.exports=n("Array","includes")},function(t,e,i){"use strict";var n=i(12),o=i(39).includes,s=i(87);n({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},function(t,e,i){var n=i(7),o=i(88),s=i(10),r=n("unscopables"),a=Array.prototype;null==a[r]&&s.f(a,r,{configurable:!0,value:o(null)}),t.exports=function(t){a[r][t]=!0}},function(t,e,i){var n,o=i(11),s=i(89),r=i(20),a=i(19),c=i(91),h=i(36),l=i(37),u=l("IE_PROTO"),d=function(){},f=function(t){return"<script>"+t+"<\/script>"},v=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;m="undefined"!=typeof document?document.domain&&n?v(n):((e=h("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):v(n);for(var i=r.length;i--;)delete m.prototype[r[i]];return m()};a[u]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(d.prototype=o(t),i=new d,d.prototype=null,i[u]=t):i=m(),void 0===e?i:s(i,e)}},function(t,e,i){var n=i(5),o=i(10),s=i(11),r=i(9),a=i(90);t.exports=n?Object.defineProperties:function(t,e){s(t);for(var i,n=r(e),c=a(e),h=c.length,l=0;h>l;)o.f(t,i=c[l++],n[i]);return t}},function(t,e,i){var n=i(38),o=i(20);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){var n=i(8);t.exports=n("document","documentElement")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(93),r=i(43);function a(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}i(94);var c=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.movementStart={x:0,y:0},this.isStartSpin=!1,this.movingDirection=r.ORIENTATIONS.CENTER,this.isClicked=!1,this.loadedImagesX=0,this.loadedImagesY=0,this.imagesLoaded=!1,this.reversed=!1,this.fullscreenView=!!i,this.ratio=n,this.imagesX=[],this.imagesY=[],this.originalImagesX=[],this.originalImagesY=[],this.devicePixelRatio=Math.round(window.devicePixelRatio||1),this.isMobile=!(!("ontouchstart"in window)&&!navigator.msMaxTouchPoints),this.id=e.id,this.init(e),this.clickedToZoom=!1,this.isMagnifyOpen=!1,this.startPointerZoom=!1,this.zoomIntensity=0,this.mouseTracked=!1,this.intialPositions={x:0,y:0},this.pointerCurrentPosition={x:0,y:0},this.startPinchZoom=!1,this.prevDistanceBetweenFingers=0}return o(t,[{key:"mouseDown",value:function(t){t.preventDefault();var e=t.pageX,i=t.pageY;this.imagesLoaded&&(this.hideInitialIcons(),(this.autoplay||this.loopTimeoutId)&&(this.stop(),this.autoplay=!1),this.intialPositions={x:e,y:i},this.movementStart={x:e,y:i},this.isClicked=!0,this.clickedToZoom=!0,this.container.style.cursor="grabbing")}},{key:"mouseUp",value:function(){this.imagesLoaded&&this.isClicked&&(this.movementStart={x:0,y:0},this.isStartSpin=!1,this.isClicked=!1,this.container.style.cursor="grab",this.bottomCircle&&!this.zoomIntensity&&this.show360ViewCircleIcon())}},{key:"mouseMove",value:function(t){if(this.imagesLoaded){var e=t.pageX,i=t.pageY;if(this.mouseTracked&&this.setCursorPosition(t),this.isClicked){var n={x:e,y:i};this.updateMovingDirection(this.intialPositions,n),this.onMoveHandler(t)}else this.zoomIntensity&&this.update()}}},{key:"updateMovingDirection",value:function(t,e){if(!this.isStartSpin){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);i>10&&(this.movingDirection=r.ORIENTATIONS.X),n>10&&this.allowSpinY&&(this.movingDirection=r.ORIENTATIONS.Y)}}},{key:"mouseScroll",value:function(t){if(!this.disablePointerZoom&&!this.isMagnifyOpen){var e=this.toStartPointerZoom===r.TO_START_POINTER_ZOOM.CLICK_TO_START&&this.clickedToZoom,i=this.toStartPointerZoom===r.TO_START_POINTER_ZOOM.SCROLL_TO_START;(e||i)&&this.initMouseScrollZoom(t)}}},{key:"touchStart",value:function(t){this.imagesLoaded&&(!this.disablePinchZoom&&(0,s.isTwoFingers)(t)&&!this.isMagnifyOpen&&this.initAndSetPinchZoom(t),this.hideInitialIcons(),(this.autoplay||this.loopTimeoutId)&&(this.stop(),this.autoplay=!1),this.intialPositions={x:t.touches[0].clientX,y:t.touches[0].clientY},this.movementStart={x:t.touches[0].clientX,y:t.touches[0].clientY},this.isClicked=!0)}},{key:"touchEnd",value:function(){this.imagesLoaded&&(this.zoomIntensity&&this.resetZoom(),this.movementStart={x:0,y:0},this.isStartSpin=!1,this.isClicked=!1,this.bottomCircle&&this.show360ViewCircleIcon())}},{key:"touchMove",value:function(t){if(this.isClicked&&this.imagesLoaded)if(!this.disablePinchZoom&&(0,s.isTwoFingers)(t))this.fingersPinchZoom(t);else{var e={x:t.touches[0].clientX,y:t.touches[0].clientY};this.updateMovingDirection(this.intialPositions,e),this.onMoveHandler(t)}}},{key:"keyDownGeneral",value:function(){this.imagesLoaded&&this.glass&&this.closeMagnifier()}},{key:"hideInitialIcons",value:function(){this.glass&&this.closeMagnifier(),this.view360Icon&&this.remove360ViewIcon()}},{key:"initMouseScrollZoom",value:function(t){this.bottomCircle&&this.hide360ViewCircleIcon(),this.hideInitialIcons(),this.mouseTracked=!0,this.setCursorPosition(t),this.mouseScrollZoom(t)}},{key:"setCursorPosition",value:function(t){this.mousePositions={x:t.clientX,y:t.clientY}}},{key:"getCursorPositionInCanvas",value:function(){var t=this.canvas.getBoundingClientRect();return this.pointerCurrentPosition={x:this.mousePositions.x-t.left,y:this.mousePositions.y-t.top},this.pointerCurrentPosition}},{key:"mouseScrollZoom",value:function(t){t.preventDefault(),(this.autoplay||this.loopTimeoutId)&&(this.stop(),this.autoplay=!1);var e=(0,s.normalizeZoomFactor)(t,this.pointerZoomFactor),i=(0,s.getMaxZoomIntensity)(this.canvas.width,this.maxScale);this.startPointerZoom=!0,this.zoomIntensity+=t.deltaY*e,this.zoomIntensity=Math.min(Math.max(0,this.zoomIntensity),i),this.zoomIntensity?this.resetZoomIcon&&this.showResetZoomIcon():(this.resetZoomIcon&&this.hideResetZoomIcon(),this.bottomCircle&&this.show360ViewCircleIcon(),this.startPointerZoom=!1,this.mouseTracked=!1),this.update()}},{key:"initAndSetPinchZoom",value:function(t){this.bottomCircle&&this.hide360ViewCircleIcon();var e=this.getFingersPosition(t),i=n(e,2),o=i[0],s=i[1];this.prevDistanceBetweenFingers=this.getDistanceBetweenFingers(o,s)}},{key:"getDistanceBetweenFingers",value:function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}},{key:"updateAveragePositionBetweenFingers",value:function(t,e){var i=this.canvas.getBoundingClientRect(),n=i.left,o=i.top;this.pointerCurrentPosition.x=(t.x+e.x)/2-n,this.pointerCurrentPosition.y=(t.y+e.y)/2-o}},{key:"getFingersPosition",value:function(t){var e=t.targetTouches[0],i=t.targetTouches[1];return[{x:e.clientX,y:e.clientY},{x:i.clientX,y:i.clientY}]}},{key:"fingersPinchZoom",value:function(t){var e=this.getFingersPosition(t),i=n(e,2),o=i[0],r=i[1],a=this.getDistanceBetweenFingers(o,r),c=30*this.pinchZoomFactor,h=a>this.prevDistanceBetweenFingers+1.5,l=a+1.5<this.prevDistanceBetweenFingers,u=(0,s.getMaxZoomIntensity)(this.canvas.width,this.maxScale);this.startPinchZoom=!0,this.updateAveragePositionBetweenFingers(o,r),h&&this.zoomIntensity<=u?this.zoomIntensity+=c:l&&this.zoomIntensity>=c&&(this.zoomIntensity-=c),this.update(),this.prevDistanceBetweenFingers=a}},{key:"resetZoom",value:function(){this.startPointerZoom=!1,this.startPinchZoom=!1,this.mouseTracked=!1,this.clickedToZoom=!1,this.resetZoomIcon&&this.hideResetZoomIcon(),this.zoomIntensity&&(this.zoomIntensity=0,this.update())}},{key:"keyDown",value:function(t){this.imagesLoaded&&(this.glass&&this.closeMagnifier(),-1!==[37,39].indexOf(t.keyCode)&&(37===t.keyCode?this.reversed?this.left():this.right():39===t.keyCode&&(this.reversed?this.right():this.left()),this.onSpin()))}},{key:"onSpin",value:function(){this.bottomCircle&&this.hide360ViewCircleIcon(),this.view360Icon&&this.remove360ViewIcon(),(this.autoplay||this.loopTimeoutId)&&(this.stop(),this.autoplay=!1)}},{key:"keyUp",value:function(t){this.imagesLoaded&&-1!==[37,39].indexOf(t.keyCode)&&this.onFinishSpin()}},{key:"onFinishSpin",value:function(){this.bottomCircle&&this.show360ViewCircleIcon()}},{key:"onMoveHandler",value:function(t){var e=this.isMobile?t.touches[0].clientX:t.pageX,i=this.isMobile?t.touches[0].clientY:t.pageY,n=e-this.movementStart.x>=this.speedFactor,o=this.movementStart.x-e>=this.speedFactor,s=this.movementStart.y-i>=this.speedFactor,a=i-this.movementStart.y>=this.speedFactor;this.bottomCircle&&this.hide360ViewCircleIcon(),n&&this.movingDirection===r.ORIENTATIONS.X?(this.moveRight(e),this.isStartSpin=!0):o&&this.movingDirection===r.ORIENTATIONS.X?(this.moveLeft(e),this.isStartSpin=!0):s&&this.movingDirection===r.ORIENTATIONS.Y?(this.moveTop(i),this.isStartSpin=!0):a&&this.movingDirection===r.ORIENTATIONS.Y&&(this.moveBottom(i),this.isStartSpin=!0)}},{key:"moveRight",value:function(t){var e=Math.floor((t-this.movementStart.x)/this.speedFactor)||1;this.spinReverse?this.moveActiveIndexDown(e):this.moveActiveIndexUp(e),this.movementStart.x=t,this.activeImageY=1,this.update()}},{key:"moveLeft",value:function(t){var e=Math.floor((this.movementStart.x-t)/this.speedFactor)||1;this.spinReverse?this.moveActiveIndexUp(e):this.moveActiveIndexDown(e),this.activeImageY=1,this.movementStart.x=t,this.update()}},{key:"moveTop",value:function(t){var e=Math.floor((this.movementStart.y-t)/this.speedFactor)||1;this.spinReverse?this.moveActiveYIndexUp(e):this.moveActiveYIndexDown(e),this.activeImageX=1,this.movementStart.y=t,this.update()}},{key:"moveBottom",value:function(t){var e=Math.floor((t-this.movementStart.y)/this.speedFactor)||1;this.spinReverse?this.moveActiveYIndexDown(e):this.moveActiveYIndexUp(e),this.activeImageX=1,this.movementStart.y=t,this.update()}},{key:"moveActiveIndexUp",value:function(t){var e=this.controlReverse?!this.spinReverse:this.spinReverse;this.stopAtEdges?this.activeImageX+t>=this.amountX?(this.activeImageX=this.amountX,(e?this.prevElem:this.rightElem)&&(0,s.addClass)(this.leftElem,"not-active")):(this.activeImageX+=t,this.rightElem&&(0,s.removeClass)(this.rightElem,"not-active"),this.leftElem&&(0,s.removeClass)(this.leftElem,"not-active")):(this.activeImageX=(this.activeImageX+t)%this.amountX||this.amountX,this.activeImageX===this.amountX&&this.allowSpinY&&(this.spinY=!0))}},{key:"moveActiveIndexDown",value:function(t){var e=this.controlReverse?!this.spinReverse:this.spinReverse;this.stopAtEdges?this.activeImageX-t<=1?(this.activeImageX=1,(e?this.rightElem:this.leftElem)&&(0,s.addClass)(e?this.rightElem:this.leftElem,"not-active")):(this.activeImageX-=t,this.leftElem&&(0,s.removeClass)(this.leftElem,"not-active"),this.rightElem&&(0,s.removeClass)(this.rightElem,"not-active")):this.activeImageX-t<1?(this.activeImageX=this.amountX+(this.activeImageX-t),this.spinY=!0):this.activeImageX-=t}},{key:"moveActiveYIndexUp",value:function(t){var e=this.controlReverse?!this.spinReverse:this.spinReverse;this.stopAtEdges?this.activeImageY+t>=this.amountY?(this.activeImageY=this.amountY,(e?this.bottomElem:this.topElem)&&(0,s.addClass)(e?this.bottomElem:this.topElem,"not-active")):(this.activeImageY+=t,this.topElem&&(0,s.removeClass)(this.topElem,"not-active"),this.bottomElem&&(0,s.removeClass)(this.bottomElem,"not-active")):(this.activeImageY=(this.activeImageY+t)%this.amountY||this.amountY,this.activeImageY===this.amountY&&(this.spinY=!1))}},{key:"moveActiveYIndexDown",value:function(t){var e=this.controlReverse?!this.spinReverse:this.spinReverse;this.stopAtEdges?this.activeImageY-t<=1?(this.activeImageY=1,(e?this.topElem:this.bottomElem)&&(0,s.addClass)(e?this.topElem:this.bottomElem,"not-active")):(this.activeImageY-=t,this.bottomElem&&(0,s.removeClass)(this.bottomElem,"not-active"),this.topElem&&(0,s.removeClass)(this.topElem,"not-active")):this.activeImageY-t<1?(this.activeImageY=this.amountY+(this.activeImageY-t),this.spinY=!1):this.activeImageY-=t}},{key:"loop",value:function(t){switch(this.autoplayBehavior){case r.AUTOPLAY_BEHAVIOR.SPIN_Y:t?this.bottom():this.top();break;case r.AUTOPLAY_BEHAVIOR.SPIN_XY:case r.AUTOPLAY_BEHAVIOR.SPIN_YX:this.spinY?t?this.bottom():this.top():t?this.left():this.right();break;case r.AUTOPLAY_BEHAVIOR.SPIN_X:default:t?this.left():this.right()}}},{key:"right",value:function(){this.movingDirection=r.ORIENTATIONS.X,this.activeImageY=this.reversed?this.amountY:1,this.moveActiveIndexUp(1),this.update()}},{key:"left",value:function(){this.movingDirection=r.ORIENTATIONS.X,this.activeImageY=this.reversed?this.amountY:1,this.moveActiveIndexDown(1),this.update()}},{key:"top",value:function(){this.movingDirection=r.ORIENTATIONS.Y,this.activeImageX=this.reversed?this.amountX:1,this.moveActiveYIndexUp(1),this.update()}},{key:"bottom",value:function(){this.movingDirection=r.ORIENTATIONS.Y,this.activeImageX=this.reversed?this.amountX:1,this.moveActiveYIndexDown(1),this.update()}},{key:"update",value:function(){var t=this.imagesX[this.activeImageX-1];this.movingDirection===r.ORIENTATIONS.Y&&(t=this.imagesY[this.activeImageY-1]);var e=this.canvas.getContext("2d");if(e.scale(this.devicePixelRatio,this.devicePixelRatio),this.fullscreenView){this.canvas.width=window.innerWidth*this.devicePixelRatio,this.canvas.style.width=window.innerWidth+"px",this.canvas.height=window.innerHeight*this.devicePixelRatio,this.canvas.style.height=window.innerHeight+"px";var i=(0,s.contain)(this.canvas.width,this.canvas.height,t.width,t.height),n=i.offsetX,o=i.offsetY,a=i.width,c=i.height;e.drawImage(t,n,o,a,c)}else this.canvas.width=this.container.offsetWidth*this.devicePixelRatio,this.canvas.style.width=this.container.offsetWidth+"px",this.canvas.height=this.container.offsetWidth*this.devicePixelRatio/t.width*t.height,this.canvas.style.height=this.container.offsetWidth/t.width*t.height+"px",this.startPointerZoom||this.startPinchZoom?this.updateImageScale(e):e.drawImage(t,0,0,this.canvas.width,this.canvas.height)}},{key:"updateImageScale",value:function(t){var e=this.originalImagesX[this.activeImageX-1];this.movingDirection===r.ORIENTATIONS.Y&&(e=this.originalImagesY[this.activeImageY-1]);var i=this.pointerCurrentPosition;this.startPointerZoom&&(i=this.getCursorPositionInCanvas());var n=this.canvas.width/this.devicePixelRatio,o=this.canvas.height/this.devicePixelRatio,s=this.canvas.width+this.zoomIntensity*(this.canvas.width/this.canvas.height),a=this.canvas.height+this.zoomIntensity,c=0-i.x/n*(s-this.canvas.width),h=0-i.y/o*(a-this.canvas.height);t.drawImage(e,c,h,s,a)}},{key:"updatePercentageInLoader",value:function(t){this.loader&&(this.loader.style.width=t+"%"),this.view360Icon&&(this.view360Icon.innerText=t+"%")}},{key:"onAllImagesLoaded",value:function(){if(this.imagesLoaded=!0,this.container.style.cursor="grab",this.disableDrag&&(this.container.style.cursor="default"),this.removeLoader(),this.fullscreenView){var t=this.container.offsetHeight/this.container.offsetWidth,e=this.container.offsetWidth;this.ratio>t&&(e=this.container.offsetHeight/this.ratio),this.speedFactor=Math.floor(this.dragSpeed/150*36/this.amountX*25*e/1500)||1}else this.speedFactor=Math.floor(this.dragSpeed/150*36/this.amountX*25*this.container.offsetWidth/1500)||1;this.imageOffset&&(this.activeImageX=this.imageOffset),this.autoplay&&this.play(),this.view360Icon&&(this.view360Icon.innerText="",(0,s.setView360Icon)(this.view360Icon,this.logoSrc)),this.initControls()}},{key:"onFirstImageLoaded",value:function(t){var e=this;if(this.hide360Logo||this.add360ViewIcon(),this.fullscreenView){this.canvas.width=window.innerWidth*this.devicePixelRatio,this.canvas.style.width=window.innerWidth+"px",this.canvas.height=window.innerHeight*this.devicePixelRatio,this.canvas.style.height=window.innerHeight+"px";var i=this.canvas.getContext("2d"),n=(0,s.contain)(this.canvas.width,this.canvas.height,t.target.width,t.target.height),o=n.offsetX,r=n.offsetY,a=n.width,c=n.height;this.offset={x:o,y:r},i.drawImage(t.target,o,r,a,c)}else{var h=this.canvas.getContext("2d"),l=t.target;if(this.imageOffset&&(l=this.imagesX[this.imageOffset]),0===this.container.offsetWidth){var u=this.container.parentElement;this.canvas.width=parseInt(u.style.width)*this.devicePixelRatio,this.canvas.style.width=u.style.width,this.canvas.height=parseInt(u.style.height)*this.devicePixelRatio/t.target.width*t.target.height,this.canvas.style.height=parseInt(u.style.width)/t.target.width*t.target.height+"px"}this.container.offsetWidth>0&&(this.canvas.width=this.container.offsetWidth*this.devicePixelRatio,this.canvas.style.width=this.container.offsetWidth+"px",this.canvas.height=this.container.offsetWidth*this.devicePixelRatio/t.target.width*t.target.height,this.canvas.style.height=this.container.offsetWidth/t.target.width*t.target.height+"px"),h.drawImage(l,0,0,this.canvas.width,this.canvas.height)}this.lazyload&&!this.fullscreenView&&this.imagesX.forEach((function(t,i){0!==i?t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")):e.innerBox.removeChild(e.lazyloadInitImage)})),this.ratio&&(this.container.style.minHeight="auto"),this.fullscreenView&&this.addCloseFullscreenView(),(this.magnifier&&!this.fullscreenView||this.magnifyInFullscreen)&&this.addMagnifier(),this.boxShadow&&!this.fullscreenView&&this.addBoxShadow(),this.bottomCircle&&!this.fullscreenView&&this.add360ViewCircleIcon(),this.fullscreen&&!this.fullscreenView&&this.addFullscreenIcon(),this.isMobile||this.fullscreenView||this.disablePointerZoom||this.addResetZoomIcon()}},{key:"incrementLoadedImages",value:function(t){t===r.ORIENTATIONS.Y?this.loadedImagesY+=1:this.loadedImagesX+=1}},{key:"onImageLoad",value:function(t,e,i){this.incrementLoadedImages(e);var n=this.amountX+this.amountY,o=this.loadedImagesX+this.loadedImagesY,s=Math.round(o/n*100);this.updatePercentageInLoader(s),0===t&&e!==r.ORIENTATIONS.Y&&this.onFirstImageLoaded(i),o===n&&this.onAllImagesLoaded(i)}},{key:"addCloseFullscreenView",value:function(t){var e=document.createElement("div");e.className="cloudimage-360-close-fullscreen-icon",e.onclick=this.setFullscreenEvents.bind(this,t),window.onkeyup=this.setFullscreenEvents.bind(this,t),this.iconsContainer.appendChild(e)}},{key:"add360ViewIcon",value:function(){var t=document.createElement("div");t.className="cloudimage-360-view-360-icon",t.innerText="0%",this.view360Icon=t,this.innerBox.appendChild(t)}},{key:"addFullscreenIcon",value:function(){var t=document.createElement("div");t.className="cloudimage-360-fullscreen-icon",t.onclick=this.openFullscreenModal.bind(this),this.fullscreenIcon=t,this.iconsContainer.appendChild(t)}},{key:"hideFullscreenIcon",value:function(){this.fullscreenIcon&&(this.fullscreenIcon.style.opacity="0.4",this.fullscreenIcon.style.pointerEvents="none")}},{key:"showFullscreenIcon",value:function(){this.fullscreenIcon&&(this.fullscreenIcon.style.opacity="1",this.fullscreenIcon.style.pointerEvents="auto")}},{key:"addMagnifier",value:function(){var t=document.createElement("div");t.className="cloudimage-360-magnifier-icon",t.onclick=this.magnify.bind(this),this.magnifierIcon=t,this.iconsContainer.appendChild(t)}},{key:"disableMagnifierIcon",value:function(){this.magnifierIcon&&(this.magnifierIcon.style.opacity="0.4",this.magnifierIcon.style.pointerEvents="none")}},{key:"enableMagnifierIcon",value:function(){this.magnifierIcon&&(this.magnifierIcon.style.opacity="1",this.magnifierIcon.style.pointerEvents="auto")}},{key:"getOriginalSrc",value:function(){var t=this.imagesX[this.activeImageX-1];this.movingDirection===r.ORIENTATIONS.Y&&(t=this.imagesY[this.activeImageY-1]);var e=t.src.lastIndexOf("//");return e>10?t.src.slice(e):t.src}},{key:"magnify",value:function(){var t=this,e=new Image,i=this.getOriginalSrc();this.isMagnifyOpen=!0,e.src=i,e.onload=function(){t.glass&&(t.glass.style.cursor="none")},this.glass=document.createElement("div"),this.container.style.overflow="hidden",(0,s.magnify)(this.container,this.offset,i,this.glass,this.magnifier||3)}},{key:"closeMagnifier",value:function(){this.glass&&(this.container.style.overflow="visible",this.container.removeChild(this.glass),this.glass=null,this.isMagnifyOpen=!1)}},{key:"openFullscreenModal",value:function(){var e=document.createElement("div");e.className="cloudimage-360-fullscreen-modal";var i=this.container.cloneNode(),n=this.imagesX[0],o=n.height/n.width;i.style.height="100%",i.style.maxHeight="100%",e.appendChild(i),window.document.body.style.overflow="hidden",window.document.body.appendChild(e),new t(i,!0,o)}},{key:"setFullscreenEvents",value:function(t,e){return"click"===e.type?this.closeFullscreenModal():"Escape"===e.key?this.closeFullscreenModalOnEsc():void 0}},{key:"closeFullscreenModalOnEsc",value:function(){this.container.parentNode.parentNode===document.body&&this.closeFullscreenModal()}},{key:"closeFullscreenModal",value:function(){document.body.removeChild(this.container.parentNode),window.document.body.style.overflow="visible"}},{key:"add360ViewCircleIcon",value:function(){var t=new Image;t.src="https://scaleflex.ultrafast.io/https://scaleflex.api.airstore.io/v1/get/_/2236d56f-914a-5a8b-a3ae-f7bde1c50000/360.svg",t.style.bottom=this.bottomCircleOffset+"%",t.className="cloudimage-360-view-360-circle",this.view360CircleIcon=t,this.innerBox.appendChild(t)}},{key:"hide360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.view360CircleIcon.style.opacity="0")}},{key:"show360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.view360CircleIcon.style.opacity="1")}},{key:"remove360ViewCircleIcon",value:function(){this.view360CircleIcon&&(this.innerBox.removeChild(this.view360CircleIcon),this.view360CircleIcon=null)}},{key:"addResetZoomIcon",value:function(){var t=document.createElement("div");t.className="cloudimage-360-reset-zoom-icon",this.resetZoomIcon=t,t.onmouseenter=this.resetZoom.bind(this),this.iconsContainer.appendChild(t)}},{key:"hideResetZoomIcon",value:function(){this.resetZoomIcon&&(this.magnifierIcon&&this.enableMagnifierIcon(),this.fullscreenIcon&&this.showFullscreenIcon(),this.resetZoomIcon.style.display="none")}},{key:"showResetZoomIcon",value:function(){this.resetZoomIcon&&(this.magnifierIcon&&this.disableMagnifierIcon(),this.fullscreenIcon&&this.hideFullscreenIcon(),this.resetZoomIcon.style.display="block")}},{key:"addLoader",value:function(){var t=document.createElement("div");t.className="cloudimage-360-loader",this.loader=t,this.innerBox.appendChild(t)}},{key:"addBoxShadow",value:function(){var t=document.createElement("div");t.className="cloudimage-360-box-shadow",t.style.boxShadow=this.boxShadow,this.innerBox.appendChild(t)}},{key:"removeLoader",value:function(){this.loader&&(this.innerBox.removeChild(this.loader),this.loader=null)}},{key:"remove360ViewIcon",value:function(){this.view360Icon&&(this.innerBox.removeChild(this.view360Icon),this.view360Icon=null)}},{key:"isCompletedCyle",value:function(){switch(this.autoplayBehavior){case r.AUTOPLAY_BEHAVIOR.SPIN_XY:case r.AUTOPLAY_BEHAVIOR.SPIN_Y:return!!(this.reversed?1===this.activeImageY:this.activeImageY===this.amountY);case r.AUTOPLAY_BEHAVIOR.SPIN_X:case r.AUTOPLAY_BEHAVIOR.SPIN_YX:default:return!!(this.reversed?1===this.activeImageX:this.activeImageX===this.amountX)}}},{key:"play",value:function(){var t=this;this.bottomCircle&&this.hide360ViewCircleIcon(),this.remove360ViewIcon(),this.loopTimeoutId=window.setInterval((function(){t.loop(t.reversed);var e=t.isCompletedCyle();t.playOnce&&e&&window.clearTimeout(t.loopTimeoutId)}),this.autoplaySpeed)}},{key:"stop",value:function(){this.bottomCircle&&!this.zoomIntensity&&this.show360ViewCircleIcon(),window.clearTimeout(this.loopTimeoutId)}},{key:"getSrc",value:function(t,e,i,n,o){var r=o.ciToken,a=o.ciFilters,c=o.ciTransformation,h=""+i+n;if(t){var l=e.offsetWidth;if(this.fullscreenView){var u=e.offsetHeight/e.offsetWidth;this.ratio>u&&(l=e.offsetHeight/this.ratio)}var d=(0,s.getSizeAccordingToPixelRatio)((0,s.getResponsiveWidthOfContainer)(l));h="https://"+r+".cloudimg.io/v7/"+h+"?"+(c||"width="+d)+(a?"&f="+a:"")}return h}},{key:"preloadImages",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.ORIENTATIONS.X,n=arguments[3],o=arguments[4],c=arguments[5],h=this,l=arguments[6],u=arguments[7];if(this.list)try{this.list.forEach((function(t,e){var i=new Image;i.src=t,i.onload=h.onImageLoad.bind(h,e,r.ORIENTATIONS.X),i.onerror=h.onImageLoad.bind(h,e,r.ORIENTATIONS.X),h.imagesX.push(i),h.amountX=h.list.length}))}catch(t){console.error("Wrong format in list attribute: "+t.message)}else if(this.imageList)try{var d=JSON.parse(this.imageList);this.amountX=d.length,d.forEach((function(t,e){var s=/(http(s?)):\/\//gi.test(t)?"":h.folder,r=h.getSrc(l,c,s,t,u),a=r.lastIndexOf("//"),d=r.slice(a);h.addImage(r,d,i,n,o,e)}))}catch(t){console.error("Wrong format in image-list attribute: "+t.message)}else[].concat(a(new Array(t))).map((function(t,r){var a=(0,s.pad)(r+1,h.indexZeroBase),c=e.replace("{index}",a),l=c.lastIndexOf("//"),u=c.slice(l);h.addImage(c,u,i,n,o,r)}))}},{key:"addImage",value:function(t,e,i,n,o,s){var a=new Image,c=new Image;n&&!this.fullscreenView?(a.setAttribute("data-src",t),a.className=a.className.length?a.className+" "+o:o,0===s&&(this.lazyloadInitImage=a,a.style.position="absolute",a.style.top="0",a.style.left="0",this.innerBox.appendChild(a))):(a.src=t,c.src=e),a.onload=this.onImageLoad.bind(this,s,i),a.onerror=this.onImageLoad.bind(this,s,i),i===r.ORIENTATIONS.Y?(this.imagesY.push(a),this.originalImagesY.push(c)):(this.imagesX.push(a),this.originalImagesX.push(c))}},{key:"destroy",value:function(){stop();var t=this.container,e=t.cloneNode(!0),i=e.querySelector(".cloudimage-360-inner-box");e.className=e.className.replace(" initialized",""),e.style.position="relative",e.style.width="100%",e.style.cursor="default",e.setAttribute("draggable","false"),e.style.minHeight="auto",e.removeChild(i),t.parentNode.replaceChild(e,t)}},{key:"initControls",value:function(){var t=this,e=this.controlReverse?!this.spinReverse:this.spinReverse,i=this.container.querySelector(".cloudimage-360-left")||this.container.querySelector(".cloudimage-360-prev"),n=this.container.querySelector(".cloudimage-360-right")||this.container.querySelector(".cloudimage-360-next"),o=this.container.querySelector(".cloudimage-360-top"),r=this.container.querySelector(".cloudimage-360-bottom");if(i||n||o||r){var a=function(e){e.stopPropagation(),t.onSpin(),t.left(),t.loopTimeoutId=window.setInterval(t.left.bind(t),t.autoplaySpeed)},c=function(e){e.stopPropagation(),t.onSpin(),t.right(),t.loopTimeoutId=window.setInterval(t.right.bind(t),t.autoplaySpeed)},h=function(e){e.stopPropagation(),t.onSpin(),t.top(),t.loopTimeoutId=window.setInterval(t.top.bind(t),t.autoplaySpeed)},l=function(e){e.stopPropagation(),t.onSpin(),t.bottom(),t.loopTimeoutId=window.setInterval(t.bottom.bind(t),t.autoplaySpeed)},u=function(){t.onFinishSpin(),window.clearTimeout(t.loopTimeoutId)},d=function(){t.onFinishSpin(),window.clearTimeout(t.loopTimeoutId)},f=function(){t.onFinishSpin(),window.clearTimeout(t.loopTimeoutId)},v=function(){t.onFinishSpin(),window.clearTimeout(t.loopTimeoutId)};i&&(i.style.display="block",i.addEventListener("mousedown",e?c:a),i.addEventListener("touchstart",e?c:a,{passive:!0}),i.addEventListener("mouseup",e?d:u),i.addEventListener("touchend",e?d:u),this.leftElem=i),n&&(n.style.display="block",n.addEventListener("mousedown",e?a:c),n.addEventListener("touchstart",e?a:c,{passive:!0}),n.addEventListener("mouseup",e?u:d),n.addEventListener("touchend",e?u:d),this.rightElem=n),o&&(o.style.display="block",o.addEventListener("mousedown",e?l:h),o.addEventListener("touchstart",e?l:h),o.addEventListener("mouseup",e?v:f),o.addEventListener("touchend",e?v:f),this.topElem=o),r&&(r.style.display="block",r.addEventListener("mousedown",e?h:l),r.addEventListener("touchstart",e?h:l),r.addEventListener("mouseup",e?f:v),r.addEventListener("touchend",e?f:v),this.bottomElem=r),(e?n:i)&&this.stopAtEdges&&(0,s.addClass)(e?n:i,"not-active")}}},{key:"addInnerBox",value:function(){this.innerBox=document.createElement("div"),this.innerBox.className="cloudimage-360-inner-box",this.container.appendChild(this.innerBox)}},{key:"addIconsContainer",value:function(){this.iconsContainer=document.createElement("div"),this.iconsContainer.className="cloudimage-360-icons-container",this.innerBox.appendChild(this.iconsContainer)}},{key:"addCanvas",value:function(){this.canvas=document.createElement("canvas"),this.canvas.style.width="100%",this.canvas.style.fontSize="0",this.ratio&&(this.container.style.minHeight=this.container.offsetWidth*this.ratio+"px",this.canvas.height=parseInt(this.container.style.minHeight)),this.innerBox.appendChild(this.canvas)}},{key:"attachEvents",value:function(t,e,i){t&&!this.disableDrag&&(this.container.addEventListener("mousedown",this.mouseDown.bind(this)),this.container.addEventListener("mousemove",this.mouseMove.bind(this)),document.addEventListener("mouseup",this.mouseUp.bind(this))),e&&!this.disableDrag&&(this.container.addEventListener("touchstart",this.touchStart.bind(this),{passive:!0}),this.container.addEventListener("touchend",this.touchEnd.bind(this)),this.container.addEventListener("touchmove",this.touchMove.bind(this),{passive:!0})),this.disablePointerZoom||this.fullscreenView||this.container.addEventListener("wheel",this.mouseScroll.bind(this)),i?(document.addEventListener("keydown",this.keyDown.bind(this)),document.addEventListener("keyup",this.keyUp.bind(this))):document.addEventListener("keydown",this.keyDownGeneral.bind(this))}},{key:"applyStylesToContainer",value:function(){this.container.style.position="relative",this.container.style.width="100%",this.container.style.cursor="wait",this.container.setAttribute("draggable","false"),this.container.className=this.container.className+" initialized"}},{key:"setMouseLeaveActions",value:function(t){var e=this;t.split(",").forEach((function(t){return e.applyMouseLeaveAction(t)}))}},{key:"applyMouseLeaveAction",value:function(t){switch(t){case r.MOUSE_LEAVE_ACTIONS.RESET_ZOOM:this.container.addEventListener("mouseleave",this.resetZoom.bind(this))}}},{key:"init",value:function(t){var e=(0,s.get360ViewProps)(t),i=e.list,n=e.folder,o=e.filenameX,a=e.filenameY,c=e.imageList,h=e.indexZeroBase,l=e.amountX,u=e.amountY,d=e.imageOffset,f=e.draggable,v=void 0===f||f,m=e.swipeable,p=void 0===m||m,g=e.keys,y=e.bottomCircle,I=e.bottomCircleOffset,w=e.boxShadow,b=e.autoplay,x=e.autoplayBehavior,S=e.playOnce,O=e.pointerZoomFactor,E=e.pinchZoomFactor,C=e.maxScale,T=e.toStartPointerZoom,k=e.onMouseLeave,A=e.disablePointerZoom,P=void 0===A||A,R=e.disablePinchZoom,L=void 0===R||R,Y=e.speed,N=e.autoplayReverse,M=e.disableDrag,F=void 0===M||M,X=e.fullscreen,_=e.magnifier,Z=e.magnifyInFullscreen,j=e.ratio,z=e.responsive,B=e.ciToken,V=e.ciFilters,D=e.ciTransformation,U=e.lazyload,H=e.lazySelector,W=e.spinReverse,q=e.dragSpeed,G=e.stopAtEdges,$=e.controlReverse,J=e.hide360Logo,K=e.logoSrc;i&&(this.list=JSON.parse(i));var Q={ciToken:B,ciFilters:V,ciTransformation:D};this.addInnerBox(),this.addIconsContainer(),this.addLoader(),this.folder=n,this.filenameX=o,this.imageList=c,this.indexZeroBase=h,this.amountX=l,this.amountY=u,this.allowSpinY=!!u&&!!a,this.activeImageX=N?l:1,this.activeImageY=N?u:1,this.spinY=x===r.AUTOPLAY_BEHAVIOR.SPIN_YX,this.imageOffset=d,this.bottomCircle=y,this.bottomCircleOffset=I,this.boxShadow=w,this.autoplay=b,this.autoplayBehavior=x,this.playOnce=S,this.toStartPointerZoom=T,this.disablePointerZoom=P,this.disablePinchZoom=L,this.pointerZoomFactor=O,this.pinchZoomFactor=E,this.maxScale=C,this.speed=Y,this.reversed=N,this.disableDrag=F,this.fullscreen=X,this.magnifier=!(this.isMobile||!_)&&_,this.magnifyInFullscreen=Z,this.lazyload=U,this.ratio=j,this.spinReverse=W,this.controlReverse=$,this.dragSpeed=q,this.autoplaySpeed=36*this.speed/this.amountX,this.stopAtEdges=G,this.hide360Logo=J,this.logoSrc=K,this.applyStylesToContainer(),this.addCanvas();var tt=this.getSrc(z,t,n,o,Q),et=this.getSrc(z,t,n,a,Q);this.preloadImages(l,tt,r.ORIENTATIONS.X,U,H,t,z,Q),u&&this.preloadImages(u,et,r.ORIENTATIONS.Y,U,H,t,z,Q),this.attachEvents(v,p,g),k&&this.setMouseLeaveActions(k)}}]),t}();e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeZoomFactor=e.getMaxZoomIntensity=e.isTwoFingers=e.pad=e.removeClass=e.addClass=e.contain=e.getSizeAccordingToPixelRatio=e.getResponsiveWidthOfContainer=e.magnify=e.setView360Icon=e.get360ViewProps=void 0;var n,o=i(43),s=function(t,e){var i=r(t,e),n=r(t,"data-"+e);return null!==i&&"false"!==i||null!==n&&"false"!==n},r=function(t,e){return t.getAttribute(e)},a=(n=!0,function(t,e,i,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.5,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,c=i/o,h=t/e,l=t*s,u=e*s;return(n?c>h:c<h)?u=l/c:l=u*c,{width:l,height:u,offsetX:(t-l)*r,offsetY:(e-u)*a}});e.get360ViewProps=function(t){return{list:r(t,"list")||r(t,"data-list"),folder:r(t,"folder")||r(t,"data-folder")||"/",filenameX:r(t,"filename")||r(t,"data-filename")||r(t,"filename-x")||r(t,"data-filename-x")||"image-{index}.jpg",filenameY:r(t,"filename-y")||r(t,"data-filename-y")||"image-y-{index}.jpg",imageList:r(t,"image-list")||r(t,"data-image-list")||null,indexZeroBase:parseInt(r(t,"index-zero-base")||r(t,"data-index-zero-base")||0,10),amountX:parseInt(r(t,"amount")||r(t,"data-amount")||r(t,"amount-x")||r(t,"data-amount-x")||36,10),amountY:parseInt(r(t,"amount-y")||r(t,"data-amount-y")||0,10),imageOffset:parseInt(r(t,"image-offset")||r(t,"data-image-offset")),speed:parseInt(r(t,"speed")||r(t,"data-speed")||80,10),dragSpeed:parseInt(r(t,"drag-speed")||r(t,"data-drag-speed")||150,10),keys:s(t,"keys"),boxShadow:r(t,"box-shadow")||r(t,"data-box-shadow"),autoplay:s(t,"autoplay"),autoplayBehavior:r(t,"autoplay-behavior")||r(t,"data-autoplay-behavior")||o.AUTOPLAY_BEHAVIOR.SPIN_X,playOnce:s(t,"play-once"),disablePointerZoom:s(t,"disable-pointer-zoom"),disablePinchZoom:s(t,"disable-pinch-zoom"),onMouseLeave:r(t,"on-mouse-leave")||r(t,"data-on-mouse-leave"),toStartPointerZoom:r(t,"to-start-pointer-zoom")||r(t,"data-to-start-pointer-zoom")||o.TO_START_POINTER_ZOOM.SCROLL_TO_START,pointerZoomFactor:parseInt(r(t,"pointer-zoom-factor")||r(t,"data-pointer-zoom-factor")||2,10),pinchZoomFactor:parseInt(r(t,"pinch-zoom-factor")||r(t,"data-pinch-zoom-factor")||2,10),maxScale:parseFloat(r(t,"max-scale")||r(t,"data-max-scale")||100,10),autoplayReverse:s(t,"autoplay-reverse"),bottomCircle:s(t,"bottom-circle"),disableDrag:s(t,"disable-drag"),fullscreen:s(t,"fullscreen"),magnifier:(null!==r(t,"magnifier")||null!==r(t,"data-magnifier"))&&parseInt(r(t,"magnifier")||r(t,"data-magnifier"),10),magnifyInFullscreen:s(t,"magnify-in-fullscreen"),bottomCircleOffset:parseInt(r(t,"bottom-circle-offset")||r(t,"data-bottom-circle-offset")||5,10),ratio:parseFloat(r(t,"ratio")||r(t,"data-ratio")||0)||!1,responsive:s(t,"responsive"),ciToken:r(t,"responsive")||r(t,"data-responsive")||"demo",ciFilters:r(t,"filters")||r(t,"data-filters"),ciTransformation:r(t,"transformation")||r(t,"data-transformation"),lazyload:s(t,"lazyload"),lazySelector:r(t,"lazyload-selector")||r(t,"data-lazyload-selector")||"lazyload",spinReverse:s(t,"spin-reverse"),controlReverse:s(t,"control-reverse"),stopAtEdges:s(t,"stop-at-edges"),hide360Logo:s(t,"hide-360-logo"),logoSrc:r(t,"logo-src")||"https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/360_view.svg"}},e.setView360Icon=function(t,e){t.style.background="rgba(255,255,255,0.8) url('"+e+"') 50% 50% / contain no-repeat"},e.magnify=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2],n=arguments[3],o=arguments[4],s=void 0,r=void 0,a=void 0,c=e.x,h=void 0===c?0:c,l=e.y,u=void 0===l?0:l,d=(t.offsetWidth-2*h)*o,f=(t.offsetHeight-2*u)*o;function v(e){var i,c=void 0,l=void 0;c=(i=m(e)).x,l=i.y,c>t.offsetWidth-s/o&&(c=t.offsetWidth-s/o),c<s/o&&(c=s/o),l>t.offsetHeight-r/o&&(l=t.offsetHeight-r/o),l<r/o&&(l=r/o),n.style.left=c-s+"px",n.style.top=l-r+"px";var d=(c-h)*o-s+a,f=(l-u)*o-r+a;n.style.backgroundPosition="-"+d+"px -"+f+"px"}function m(e){var i,n=0,o=0;return e=e||window.event,i=t.getBoundingClientRect(),n=e.pageX-i.left,o=e.pageY-i.top,{x:n-=window.pageXOffset,y:o-=window.pageYOffset}}n.setAttribute("class","cloudimage-360-img-magnifier-glass"),t.prepend(n),n.style.backgroundImage="url('"+i+"')",n.style.backgroundSize=d+"px "+f+"px",a=3,s=n.offsetWidth/2,r=n.offsetHeight/2,n.addEventListener("mousemove",v),t.addEventListener("mousemove",v),n.addEventListener("touchmove",v,{passive:!0}),t.addEventListener("touchmove",v,{passive:!0})},e.getResponsiveWidthOfContainer=function(t){return(e=t)<=25?"25":e<=50?"50":(100*Math.ceil(e/100)).toString();var e},e.getSizeAccordingToPixelRatio=function(t){var e=t.toString().split("x"),i=[];return[].forEach.call(e,(function(t){i.push(t*Math.round(window.devicePixelRatio||1))})),i.join("x")},e.contain=a,e.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},e.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},e.pad=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(t+="").length>=e?t:new Array(e-t.length+1).join("0")+t},e.isTwoFingers=function(t){return 2===t.targetTouches.length},e.getMaxZoomIntensity=function(t,e){return e*t-t},e.normalizeZoomFactor=function(t,e){return Math.abs(t.deltaY)<125?10*-e:-e}},function(t,e,i){var n=i(95);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(97)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(96)(!1)).push([t.i,".cloudimage-360-icons-container {\n  position: absolute;\n  display: flex;\n  top: 5px;\n  right: 5px;\n  width: 30px;\n  height: 95%;\n  flex-direction: column;\n  align-items: center;\n  z-index: 101;\n}\n\n.cloudimage-360-magnifier-icon {\n  width: 25px;\n  height: 25px;\n  margin-bottom: 5px;\n  cursor: pointer;\n  background: url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/loupe.svg') 50% 50% / cover no-repeat;\n}\n\n.cloudimage-360-fullscreen-icon {\n  width: 25px;\n  height: 25px;\n  margin-bottom: 5px;\n  cursor: pointer;\n  background: url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/full_screen.svg') 50% 50% / cover no-repeat;\n}\n\n.cloudimage-360-reset-zoom-icon {\n  display: none;\n  width: 30px;\n  height: 30px;\n  margin-top: auto;\n  cursor: pointer;\n  background: url('https://scaleflex.cloudimg.io/v7/filerobot/js-cloudimage-360-view/ic-resize.svg?vh=248986') 50% 50% / cover no-repeat;\n}\n\n.cloudimage-360-close-fullscreen-icon {\n  width: 25px;\n  height: 25px;\n  cursor: pointer;\n  background: url('https://scaleflex.ultrafast.io/https://scaleflex.airstore.io/filerobot/js-cloudimage-360-view/cross.svg') 50% 50% / cover no-repeat;\n}\n\n.cloudimage-360-loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 0%;\n  height: 8px;\n  background-color: rgb(165,175,184);\n  z-index: 100;\n}\n\n.cloudimage-360-box-shadow {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 99;\n}\n\n.cloudimage-360-view-360-icon {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100px;\n  height: 100px;\n  margin: auto;\n  background-color: rgba(255,255,255,0.8);\n  border-radius: 50%;\n  box-shadow: rgb(255, 255, 255, 0.5) 0px 0px 4px;\n  transition: 0.5s all;\n  color: rgb(80,80,80);\n  text-align: center;\n  line-height: 100px;\n  z-index: 2;\n}\n\n.cloudimage-360-view-360-circle {\n  position: absolute;\n  left: 0;\n  right: 0;\n  width: 80%;\n  height: auto;\n  margin: auto;\n  transition: 0.5s all;\n  z-index: 2;\n}\n\n.cloudimage-360-fullscreen-modal {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n  background-color: #FFF;\n}\n\n.cloudimage-360-img-magnifier-glass {\n  background-color: #FFF;\n  background-repeat: no-repeat;\n  position: absolute;\n  border: 3px solid #000;\n  border-radius: 50%;\n  cursor: wait;\n  line-height: 200px;\n  text-align: center;\n  z-index: 1000;\n  width: 250px;\n  height: 250px;\n  top: -75px;\n  right: -85px;\n}",""])},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),s=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(s).concat([o]).join("\n")}var r;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var s=this[o][0];null!=s&&(n[s]=!0)}for(o=0;o<t.length;o++){var r=t[o];null!=r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),e.push(r))}},e}},function(t,e,i){var n,o,s={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=a.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),h=null,l=0,u=[],d=i(98);function f(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=s[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(I(n.parts[r],e))}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(I(n.parts[r],e));s[n.id]={id:n.id,refs:1,parts:a}}}}function v(t,e){for(var i=[],n={},o=0;o<t.length;o++){var s=t[o],r=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function m(t,e){var i=c(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),u.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(t.insertAt.before,i);i.insertBefore(e,o)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return y(e,t.attrs),m(t,e),e}function y(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function I(t,e){var i,n,o,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var r=l++;i=h||(h=g(e)),n=x.bind(null,i,r,!1),o=x.bind(null,i,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),m(t,e),e}(e),n=O.bind(null,i,e),o=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(e),n=S.bind(null,i),o=function(){p(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=v(t,e);return f(i,e),function(t){for(var n=[],o=0;o<i.length;o++){var r=i[o];(a=s[r.id]).refs--,n.push(a)}t&&f(v(t,e),e);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete s[a.id]}}}};var w,b=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function x(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var s=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}function S(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function O(t,e,i){var n=i.css,o=i.sourceMap,s=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||s)&&(n=d(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,s=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(o=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}}]);